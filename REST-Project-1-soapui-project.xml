<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="898b1c46-2435-400c-a0c0-90f61eddb4df" activeEnvironment="Default" name="REST Project 1" resourceRoot="" soapui-version="5.7.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="5b869ca1-e015-4567-87b4-b623798648f7" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://application-emiasinfo1.dev-emias.emias.ru" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://application-emiasinfo1.dev-emias.emias.ru</con:endpoint></con:endpoints><con:resource name="list" path="/api/v4/archiveAppointment/delete" id="f79ae7cd-2e99-4522-8b12-00df53bc8ddd"><con:settings/><con:parameters><con:parameter><con:name>omsNumber</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>birthDate</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>appointmentId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>EI-Token</con:name><con:value/><con:style>HEADER</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>X-Access-JWT</con:name><con:value/><con:style>HEADER</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="664e3f1c-28aa-4316-91b0-431387197b9b" method="PUT"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>500 400 401 409</con:status><con:params/><con:element xmlns:del="http://application-emiasinfo1.dev-emias.emias.ru/api/v4/archiveAppointment/delete">del:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="458c8bd5-44f3-4505-8b45-508a0ea8f359" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="X-Access-JWT" value="eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ1c2VyX2F1dGgiLCJleHAiOjE3MjY4MTk0MjcsImF1ZCI6IlBBVElFTlQiLCJzdWIiOiI3NTgzNWNiNy05ZTI3LTRhY2ItYTk1ZC1hOWRiMzRlOTY0MWUiLCJzaWQiOiIwOWU5ZWJjYi00NDg0LTQwOTMtOWMxOS0wOTRhODVkYWI1NjYiLCJwaG9uZSI6Ijc5MTUwMDQ5NzY2Iiwic3NvX2lkIjoia3FOR3pQYXg2STQvZk5tWk93eFhydzYyL0hFZVdKbnlGNS9EM2NydStRekNaanc4QWZIMXNtL1VaNWU4L21TVEhFZjRzNGI3VEpac0x0Z3RWNjhoZjUwMFFLL0VXTVQvOFE4VUd1RWtvUGV4dDdtNWZ2ZUJJcXJiSGcyTmM1bjhuSS9kcnA3MUtIYkR0c1BpMUhkNkcyK0kxUzVZR2wwanlVWTVPTFlsT3JiM0ZjdXZRODVlWW1vdldwOUQ5b0JleVdqbW5Kc3hkRG04THdpUjNPSmJXZjFnbTkwM2hCNzl2VUZhcG5uMFFHdmNWUnpZcFJJeDFWd1VKcUNyUHJtbjdiZUlhR2VCeDcrSmV2VUpQM2RaL0RSTFhLUWc4ZTBBVE4zNjhGbDNuRUROQVE1RS9DMmFRRXhNSjZ6QVVwTFBkU0lmM0NQYktselVGM0hOM1ZsVCt3PT0iLCJlbWFpbCI6Imdvb2R3aW5sYXVyYUBleGFtcGxlLmNvbSIsImZpcnN0X25hbWUiOiJcdTA0MjVcdTA0MzBcdTA0M2RcdTA0NDNcdTA0M2MiLCJzZWNvbmRfbmFtZSI6Ilx1MDQxMC4iLCJtaWRkbGVfbmFtZSI6Ilx1MDQxN1x1MDQzOFx1MDQ0MFx1MDQzMFx1MDQzY1x1MDQ0M1x1MDQ0Mlx1MDQzNFx1MDQzOFx1MDQzZFx1MDQzZVx1MDQzMlx1MDQzZFx1MDQzMCIsImJpcnRoX2RhdGUiOiIyMDAxLTA2LTA2IiwiYW1yIjpbXX0.CnxhHQ4rF8c0lGvyvPS-TZ6hUBm3EyEvEIm9dwK4DDJ0LLTm6W3ZelS5Fxnnz7fjXwBWZVgqC5M2NfY41K8kjjZegJC8xTDzHAqFwa3eCJyxdTefSY3auOfSlR5O71BpNBK4-wlzxzNmBotAJ2vAUMAw16c7AQVPLspcxgCDbkXfhctjOUiCR5e79NQ9CzdIT6t78M0-IMQTeya1gfJ7Qvbpp_OfqsSrlKnZri0eHKNVu6UnsCc2IB8WJxxA5RbPc5-aZuLxcjyk5f6A02jxYYqBkcT7aKU76HS7HiAMiZLU1lURi8m860ZocGyQUQOagZgSMqwoFsS2GC17ROBD9-1yc7qMoyikqxvAWQu1XjWxXbTWhq0LptEgze-uDheR4XTyFROaofLHiqgtlu3iVT2s24fFeX6wKrMe7JRGTJaIwymdv5aT7hqqAJWrQ7o5TTetFrVVxthD_u7h6miBpZ0shG8fk09EPtS8DNO0WJl8xoGpnDQg1qjcw8w5Ny-4gH0KgLas-GKyAgFN_fXt32fs0cHzeQHlxaFW91YU9TfRnFZE16zD11IwnTfaY65Rqaz7ke7y2HJxAbMNodTC0FA-r8KD2dyCD7a_jgIvN-oRYUXA_hPQ9_Gdpzp8v7q41mTKuIDQKj-T8ybeiWx9biGeARLRhmZucsHHA90ELCg" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#Endpoint}</con:endpoint><con:request/><con:originalUri>http://application-emiasinfo1.dev-emias.emias.ru/api/v4/archiveAppointment/delete</con:originalUri><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#EI-Token}"/>
  <con:entry key="appointmentId" value="391930322395"/>
  <con:entry key="omsNumber" value="7700007178231039"/>
  <con:entry key="birthDate" value="1939-10-23"/>
</con:parameters><con:parameterOrder><con:entry>omsNumber</con:entry><con:entry>birthDate</con:entry><con:entry>appointmentId</con:entry><con:entry>EI-Token</con:entry><con:entry>X-Access-JWT</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="list" path="/api/v5/archiveAppointment/list" id="ec63b6db-39eb-416f-896f-472835568ea0"><con:settings/><con:parameters><con:parameter><con:name>EI-Token</con:name><con:value/><con:style>HEADER</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>Mock-saOrchestrator</con:name><con:style>HEADER</con:style></con:parameter></con:parameters><con:method name="Method 1" id="45e042e4-12e6-47aa-8af2-bcd703e2b778" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>400 401 500 404</con:status><con:params/><con:element xmlns:list="http://application-emiasinfo1.dev-emias.emias.ru/api/v5/archiveAppointment/list">list:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:list="http://application-emiasinfo1.dev-emias.emias.ru/api/v5/archiveAppointment/list">list:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/x-www-form-urlencoded</con:mediaType><con:params/></con:representation><con:request name="Request 1" id="0f2acea5-8d70-46c2-9dcb-fbff8ce01895" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#Endpoint}</con:endpoint><con:request>{"birthDate":"1939-10-23","omsNumber":"7700007178231039","pagingOptions":{"pageNumber":0,"pageSize":25}}</con:request><con:originalUri>http://application-emiasinfo1.dev-emias.emias.ru/api/v5/archiveAppointment/list</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="Mock-saOrchestrator" value="${#Project#Mock-saOrchestrator}"/>
  <con:entry key="EI-Token" value="${#Project#EI-Token}"/>
</con:parameters><con:parameterOrder><con:entry>EI-Token</con:entry><con:entry>Mock-saOrchestrator</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="tmk" path="/api/v1/status/tmk" id="8ccd4571-261a-4b7e-8b31-184cb0f4fce9"><con:settings/><con:parameters><con:parameter><con:name>patientId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceGuid</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>appointmentId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Method 1" id="3f9ecd9c-1b37-427b-9d6d-908981ea0ac0" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=UTF-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>400 500 404</con:status><con:params/><con:element xmlns:tmk="http://application-emiasinfo1.dev-emias.emias.ru/api/v1/status/tmk">tmk:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:tmk="http://application-emiasinfo1.dev-emias.emias.ru/api/v1/status/tmk">tmk:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="1fcc131b-fe37-4f7c-899e-b863f4405eea" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#Endpoint_notification}</con:endpoint><con:request/><con:originalUri>http://application-emiasinfo1.dev-emias.emias.ru/api/v1/status/tmk</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="patientId" value="30379945"/>
  <con:entry key="deviceGuid" value="015890c7-8300-4486-b2b9-45bf7163c899"/>
  <con:entry key="appointmentId" value="391930353018"/>
</con:parameters><con:parameterOrder><con:entry>patientId</con:entry><con:entry>deviceGuid</con:entry><con:entry>appointmentId</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:testSuite id="cc578555-473d-45d8-a370-11b05302a857" name="PUT /api/v4/archiveAppointment/delete"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="a1f89164-907a-4c52-b0f3-b1926e7e2255" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="судир истек" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="archiveAppointment/delete" id="cb6b990e-008c-4a65-96f3-6b02ab2c7a8a"><con:settings/><con:config service="http://application-emiasinfo1.dev-emias.emias.ru" resourcePath="/api/v4/archiveAppointment/delete" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="archiveAppointment/delete" id="3a0e1abe-98d5-4248-86c5-78a37616ce56" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#Endpoint}</con:endpoint><con:request/><con:originalUri>http://application-emiasinfo1.dev-emias.emias.ru/api/v2/covidTest/save</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="dd80f435-2c81-4e15-8013-72de39d40fb9" name="Valid HTTP Status Codes = 401"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="a764123e-14e3-40aa-b6a2-c13022b677d9" name="code = [SUDIR_TOKEN_EXPIRED]"><con:configuration><path>$..code</path><content>[SUDIR_TOKEN_EXPIRED]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="0b56b389-52a1-43ba-8142-392e2cd28132" name="description = Время действия токена в СУДИР истекло"><con:configuration><path>$.error.description</path><content>Время действия токена в СУДИР истекло</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="12449476-bf6d-4588-ae0e-27e037a38f3a" name="type = BUSINESS"><con:configuration><path>$.error.type</path><content>BUSINESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#TestCase#EI-Token}"/>
  <con:entry key="appointmentId" value="${#TestCase#appointmentId}"/>
  <con:entry key="omsNumber" value="${#TestSuite#omsNumber}"/>
  <con:entry key="birthDate" value="${#TestSuite#birthDate}"/>
</con:parameters><con:parameterOrder><con:entry>omsNumber</con:entry><con:entry>birthDate</con:entry><con:entry>appointmentId</con:entry><con:entry>EI-Token</con:entry><con:entry>X-Access-JWT</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>appointmentId</con:name><con:value>391930322272</con:value></con:property><con:property><con:name>EI-Token</con:name><con:value>9W8e608tOR4Jxcy390QNnQGAJpOyRY7b17oea_Czs8c</con:value></con:property></con:properties></con:testCase><con:testCase id="ff838c41-e47d-4d73-b023-d88654714ed5" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="основной сценарий" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Найти архивную запись" id="a30926cd-7bc4-4309-bdb4-b2aae62d7c1f"><con:settings/><con:config service="http://application-emiasinfo1.dev-emias.emias.ru" methodName="Method 1" resourcePath="/api/v5/archiveAppointment/list" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="REST Request" id="5ccb1a79-f7d3-4ba7-a056-42d44b8cd665" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://application-emiasinfo1.dev-emias.emias.ru</con:endpoint><con:request>{
  "birthDate": "${#TestSuite#birthDate}",
  "omsNumber": "${#TestSuite#omsNumber}",
  "pagingOptions": {
    "pageNumber": 0,
    "pageSize": 25
  }
}</con:request><con:originalUri>http://application-emiasinfo1.dev-emias.emias.ru/api/v5/archiveAppointment/list</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="57b7d764-dc40-4dd6-bd4e-a9d9e3987383" name="Valid HTTP Status Codes"><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="EI-Token" value="${#Project#EI-Token}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Добавить appointmentid в проперти" id="7d116da7-26ba-4c88-ad16-60716275dd7b"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>appointmentid</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Найти архивную запись</con:sourceStep><con:sourcePath>$.payload.appointmentList[0].id</con:sourcePath><con:targetType>appointmentId</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="/api/v4/archiveAppointment/delete" id="991f2f77-32a3-40da-80d4-7cdc1d3b3ba4"><con:settings/><con:config service="http://application-emiasinfo1.dev-emias.emias.ru" methodName="Method 1" resourcePath="/api/v4/archiveAppointment/delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="/api/v4/archiveAppointment/delete" id="8f5d87aa-75ae-498e-a601-b11921c6dc23" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#Endpoint}</con:endpoint><con:request/><con:originalUri>http://application-emiasinfo3.dev-emias.emias.ru/api/v4/archiveAppointment/delete</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="46a4e0df-5d92-47f9-967f-1099332fb375" name="Valid HTTP Status Codes = 200"><con:configuration><codes>201</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#EI-Token}"/>
  <con:entry key="appointmentId" value="${#TestCase#appointmentId}"/>
  <con:entry key="omsNumber" value="${#TestSuite#omsNumber}"/>
  <con:entry key="birthDate" value="${#TestSuite#birthDate}"/>
</con:parameters><con:parameterOrder><con:entry>omsNumber</con:entry><con:entry>birthDate</con:entry><con:entry>appointmentId</con:entry><con:entry>EI-Token</con:entry><con:entry>X-Access-JWT</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="Проверить наличие записи в БД" id="002594bb-d7ea-49e7-9a4c-9f8213e2a3ed"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>${#Project#emiasInfoDBDriver}</con:driver><con:connectionString>${#Project#emiasInfoFullDbConnection}</con:connectionString><con:query>select
  *
from
  f_deleted_archive_appointment fdaa
where
  appointment_id = '${#TestCase#appointmentId}'</con:query><con:assertion type="JDBC Status" id="0c4d06ca-aa70-4ff4-a77d-bf6e5287f6c0" name="JDBC Status"/><con:assertion type="Simple Contains" id="7e5a0459-228d-4124-ba2d-136207e41501" name="Содержит удаленную запись"><con:configuration><token>${#TestCase#appointmentId}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="Удалить запись из БД" id="8c5c91ff-d8b0-4fe8-a68e-c3122a1538ce"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>${#Project#emiasInfoDBDriver}</con:driver><con:connectionString>${#Project#emiasInfoFullDbConnection}</con:connectionString><con:query>delete
from
  f_deleted_archive_appointment fdaa
where
  appointment_id =  '${#TestCase#appointmentId}'</con:query><con:assertion type="JDBC Status" id="0c4d06ca-aa70-4ff4-a77d-bf6e5287f6c0" name="JDBC Status"/><con:properties/></con:config></con:testStep><con:properties><con:property><con:name>appointmentId</con:name><con:value>391930351925</con:value></con:property></con:properties><con:securityTest id="bf92b15d-a9c7-4116-9417-9111cc38da78" name="SecurityTest 1" failOnError="true"><con:settings/><con:properties/></con:securityTest></con:testCase><con:testCase id="81cd6ff7-f3e5-43dd-b19a-c5223535432d" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="запись уже удалена" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Найти уже удаленную запись" id="6917272c-c69b-4767-bd18-511030d565b1"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>${#Project#emiasInfoDBDriver}</con:driver><con:connectionString>${#Project#emiasInfoFullDbConnection}</con:connectionString><con:query>select appointment_id from f_deleted_archive_appointment fdaa 
where oms_number = '7700007178231039' 
</con:query><con:assertion type="JDBC Status" id="5c12b4c6-48d0-4bb3-aef3-712d351c5bdb" name="JDBC Status"/><con:properties/></con:config></con:testStep><con:testStep type="transfer" name="Добавить appointmentid в проперти" id="c2c60f1c-bba3-4abe-9e5e-8a55826513b8"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="true" transferChildNodes="false"><con:name>1</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>Найти уже удаленную запись</con:sourceStep><con:sourcePath>//Row[1]/F_DELETED_ARCHIVE_APPOINTMENT.APPOINTMENT_ID</con:sourcePath><con:targetType>appointmentId</con:targetType><con:targetStep>/api/v4/archiveAppointment/delete</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="/api/v4/archiveAppointment/delete" id="30053540-64a5-4e6a-9680-0dd60face4dd"><con:settings/><con:config service="http://application-emiasinfo1.dev-emias.emias.ru" resourcePath="/api/v4/archiveAppointment/delete" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="/api/v4/archiveAppointment/delete" id="3a0e1abe-98d5-4248-86c5-78a37616ce56" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#Endpoint}</con:endpoint><con:request/><con:originalUri>http://application-emiasinfo1.dev-emias.emias.ru/api/v2/covidTest/save</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="c0090cb0-f90f-46bf-83d2-e8250d35b9c9" name="Valid HTTP Status Codes = 409"><con:configuration><codes>409</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="649ac83b-81e6-43fa-aad3-0a9ad39975b7" name="code = APPOINTMENT_ALREADY_DELETED"><con:configuration><path>$..code</path><content>[APPOINTMENT_ALREADY_DELETED]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="9b8f74da-e498-4ce7-a5bd-29a21b20ef90" name="description = Запись уже удалена"><con:configuration><path>$.error.description</path><content>Запись уже удалена</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="b094bfdb-3b7c-4569-9fbb-dcd0e7e69e47" name="JsonPath Match"><con:configuration><path>$.error.type</path><content>BUSINESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#EI-Token}"/>
  <con:entry key="appointmentId" value="391930322395"/>
  <con:entry key="omsNumber" value="${#TestSuite#omsNumber}"/>
  <con:entry key="birthDate" value="${#TestSuite#birthDate}"/>
</con:parameters><con:parameterOrder><con:entry>omsNumber</con:entry><con:entry>birthDate</con:entry><con:entry>appointmentId</con:entry><con:entry>EI-Token</con:entry><con:entry>X-Access-JWT</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>appointmentId</con:name><con:value>391930322272</con:value></con:property></con:properties></con:testCase><con:properties><con:property><con:name>omsNumber</con:name><con:value>7700007178231039</con:value></con:property><con:property><con:name>birthDate</con:name><con:value>1939-10-23</con:value></con:property></con:properties></con:testSuite><con:testSuite id="0c0d31c9-9ee6-46f5-93f5-f9d87d8a44a8" name="POST /api/v5/archiveAppointment/list"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="483ddca8-4636-4e65-84ea-9fd5f4f56c66" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Исключение удаленной записи" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Найти архивную запись" id="4c262ca3-4c6f-4bcb-bd41-90c9e6705e58"><con:settings/><con:config service="http://application-emiasinfo1.dev-emias.emias.ru" resourcePath="/api/v5/archiveAppointment/list" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="REST Request" id="0f2acea5-8d70-46c2-9dcb-fbff8ce01895" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#Endpoint}</con:endpoint><con:request>{
  "birthDate": "${#TestSuite#birthDate}",
  "omsNumber": "${#TestSuite#omsNumber}",
  "pagingOptions": {
    "pageNumber": 0,
    "pageSize": 25
  }
}</con:request><con:originalUri>http://application-emiasinfo1.dev-emias.emias.ru/api/v5/archiveAppointment/list</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2668376f-0bc7-4a5c-b67c-9592d59e7da9" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="EI-Token" value="${#Project#EI-Token}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>EI-Token</con:entry><con:entry>Mock-saOrchestrator</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Добавить appointmentid записи в проперти" id="b835c0bd-f12a-4d99-986c-54a648e5892b"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>appointmentid</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>Найти архивную запись</con:sourceStep><con:sourcePath>$.payload.appointmentList[0].id</con:sourcePath><con:targetType>appointmentid</con:targetType><con:targetStep>#TestCase#</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Удалить найденную запись" id="f4f6d547-6d74-4bf5-88f6-771fdef22b09"><con:settings/><con:config service="http://application-emiasinfo1.dev-emias.emias.ru" methodName="Method 1" resourcePath="/api/v4/archiveAppointment/delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="archiveAppointment/delete" id="e644815d-e30c-4728-bf08-078e7435897c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#Endpoint}</con:endpoint><con:request/><con:originalUri>http://application-emiasinfo1.dev-emias.emias.ru/api/v4/archiveAppointment/delete</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f048723a-26e0-4641-a3b0-5e1127f92957" name="Valid HTTP Status Codes"><con:configuration><codes>201</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="X-Access-JWT" value="${#Project#X-Access-JWT}"/>
  <con:entry key="EI-Token" value="${#Project#EI-Token}"/>
  <con:entry key="appointmentId" value="${#TestCase#appointmentId}"/>
  <con:entry key="omsNumber" value="${#TestSuite#omsNumber}"/>
  <con:entry key="birthDate" value="${#TestSuite#birthDate}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="archiveAppointment/list" id="108c1db6-9016-466f-b567-d98973cfe01e"><con:settings/><con:config service="http://application-emiasinfo1.dev-emias.emias.ru" resourcePath="/api/v5/archiveAppointment/list" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Copy of archiveAppointment/list" id="0f2acea5-8d70-46c2-9dcb-fbff8ce01895" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#Endpoint}</con:endpoint><con:request>{
  "birthDate": "${#TestSuite#birthDate}",
  "omsNumber": "${#TestSuite#omsNumber}",
  "pagingOptions": {
    "pageNumber": 0,
    "pageSize": 25
  }
}</con:request><con:originalUri>http://application-emiasinfo1.dev-emias.emias.ru/api/v5/archiveAppointment/list</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="08b2c2c4-3e14-4322-a683-e888ca6e151f" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="3e6867d9-329d-4d25-8b8a-5e408a21f4e3" name="Not Contains"><con:configuration><token>${#TestCase#appointmentId}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="EI-Token" value="${#Project#EI-Token}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>EI-Token</con:entry><con:entry>Mock-saOrchestrator</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="Удалить запись из БД" id="fe4c2c49-99f8-4f20-9f6f-fdaa3f438516"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>${#Project#emiasInfoDBDriver}</con:driver><con:connectionString>${#Project#emiasInfoFullDbConnection}</con:connectionString><con:query>delete
from
  f_deleted_archive_appointment fdaa
where
  appointment_id =  '${#TestCase#appointmentId}'</con:query><con:assertion type="JDBC Status" id="72e61d04-84fc-4272-9a25-9282c5daff14" name="JDBC Status"/><con:properties/></con:config></con:testStep><con:testStep type="calltestcase" name="Run TestCase" id="145b2b53-6387-4328-8689-370f8e6b1bfe"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties/><con:returnProperties/><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:properties><con:property><con:name>appointmentid</con:name><con:value>391930350979</con:value></con:property></con:properties></con:testCase><con:testCase id="cd5c5b22-733d-432f-85ee-469854f9ee4d" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Пациент не найден" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="archiveAppointment/list" id="179ec056-149c-461d-9be3-003fd0fd91d6"><con:settings/><con:config service="http://application-emiasinfo1.dev-emias.emias.ru" resourcePath="/api/v5/archiveAppointment/list" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="archiveAppointment/list" id="0f2acea5-8d70-46c2-9dcb-fbff8ce01895" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#Endpoint}</con:endpoint><con:request>{
  "birthDate": "${#TestCase#birthDate}",
  "omsNumber": "${#TestSuite#omsNumber}",
  "pagingOptions": {
    "pageNumber": 0,
    "pageSize": 25
  }
}</con:request><con:originalUri>http://application-emiasinfo1.dev-emias.emias.ru/api/v5/archiveAppointment/list</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="9512c7a2-00e7-435c-afce-22a122179643" name="Valid HTTP Status Codes = 404"><con:configuration><codes>404</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="4ed13998-2fc7-4e9c-830e-9f4cff47d02a" name="code = SA_PATIENT_NOT_FOUND"><con:configuration><path>$..code</path><content>[SA_PATIENT_NOT_FOUND]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="0c1e1750-f798-46a6-8221-12edd39d4acc" name="description = Пациент с указанным ОМС не найден"><con:configuration><path>$.error.description</path><content>Пациент с указанным ОМС не найден</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="485eecc7-8672-4ac2-ae9f-1ed6e7b3f053" name="type=BUSINESS"><con:configuration><path>$.error.type</path><content>BUSINESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="EI-Token" value="${#Project#EI-Token}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>EI-Token</con:entry><con:entry>Mock-saOrchestrator</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>EI-Token</con:name><con:value>9W8e608tOR4Jxcy390QNnQGAJpOyRY7b17oea_Czs8c</con:value></con:property><con:property><con:name>birthDate</con:name><con:value>1939-02-12</con:value></con:property></con:properties></con:testCase><con:testCase id="8b852531-75b1-4f52-9853-13cab53c7a54" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Нет isTmk для BM и LDP" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="REST Request" id="5c802b05-f276-4137-975a-a2d3713701ae"><con:settings/><con:config service="http://application-emiasinfo1.dev-emias.emias.ru" resourcePath="/api/v5/archiveAppointment/list" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="REST Request" id="0f2acea5-8d70-46c2-9dcb-fbff8ce01895" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#Endpoint}</con:endpoint><con:request>{
  "birthDate": "${#TestSuite#birthDate}",
  "omsNumber": "${#TestSuite#omsNumber}",
  "pagingOptions": {
    "pageNumber": 0,
    "pageSize": 25
  }
}</con:request><con:originalUri>http://application-emiasinfo1.dev-emias.emias.ru/api/v5/archiveAppointment/list</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="263e3b35-ff4c-457a-93b9-97d8be373950" name="Valid HTTP Status Codes = 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="b1e6f7db-35df-440e-b7a0-795d25a8db27" name="Not Contains isTmk"><con:configuration><token>isTmk</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="" value="${#Project#Mock-saOrchestrator}"/>
  <con:entry key="EI-Token" value="${#Project#EI-Token}"/>
</con:parameters><con:parameterOrder><con:entry>EI-Token</con:entry><con:entry/></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties><con:property><con:name>omsNumber</con:name><con:value>7700007178231039</con:value></con:property><con:property><con:name>birthDate</con:name><con:value>1939-10-23</con:value></con:property></con:properties></con:testSuite><con:testSuite id="1e32c595-d51d-4673-9708-d4afd97854a7" name="GET /api/v1/status/tmk"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="9a0784a0-37de-4a2d-8b04-cc88b5d29ed1" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="пустой ответ" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="REST Request" id="728ec050-bc1a-4d30-b812-465033836419"><con:settings/><con:config service="http://application-emiasinfo1.dev-emias.emias.ru" resourcePath="/api/v1/status/tmk" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="REST Request" id="1fcc131b-fe37-4f7c-899e-b863f4405eea" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#Endpoint_notification}</con:endpoint><con:request/><con:originalUri>http://application-emiasinfo1.dev-emias.emias.ru/api/v1/status/tmk</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="patientId" value="${#TestSuite#patientId}"/>
  <con:entry key="deviceGuid" value="${#TestSuite#deviceGuid}"/>
  <con:entry key="appointmentId" value="${#TestCase#appointmentId}"/>
</con:parameters><con:parameterOrder><con:entry>patientId</con:entry><con:entry>deviceGuid</con:entry><con:entry>appointmentId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>appointmentId</con:name><con:value>391930353018</con:value></con:property></con:properties></con:testCase><con:testCase id="8fb97150-518c-4c58-8214-c3d6a3399a88" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="пользователь отстустсвует" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="status/tmk" id="42c22c46-db5e-4412-a87f-1ac5e9b0d77b"><con:settings/><con:config service="http://application-emiasinfo1.dev-emias.emias.ru" resourcePath="/api/v1/status/tmk" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="REST Request" id="1fcc131b-fe37-4f7c-899e-b863f4405eea" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#Endpoint_notification}</con:endpoint><con:request/><con:originalUri>http://application-emiasinfo1.dev-emias.emias.ru/api/v1/status/tmk</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="90ab35d5-105a-4079-9179-2cc971fd6ab1" name="Valid HTTP Status Codes = 404"><con:configuration><codes>404</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5ee53008-c17e-4cf4-a957-bc4f68350694" name="code = USER_NOT_FOUND"><con:configuration><path>$.error.code</path><content>USER_NOT_FOUND</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="636bfab5-af1f-412b-a261-0ad9ce7ce78d" name="description= Пользователь не найден"><con:configuration><path>$.error.description</path><content>Пользователь не найден</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="0b1e43d3-889d-46ea-8ea5-ee65f9cc2daf" name="type = BUSINESS"><con:configuration><path>$.error.type</path><content>BUSINESS</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="patientId" value="${#TestCase#patientId}"/>
  <con:entry key="deviceGuid" value="${#TestSuite#deviceGuid}"/>
  <con:entry key="appointmentId" value="${#TestCase#appointmentId}"/>
</con:parameters><con:parameterOrder><con:entry>patientId</con:entry><con:entry>deviceGuid</con:entry><con:entry>appointmentId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>appointmentId</con:name><con:value>391930353018</con:value></con:property><con:property><con:name>patientId</con:name><con:value>30000000506225</con:value></con:property></con:properties></con:testCase><con:testCase id="c8200f34-589e-47d1-8a67-23b3bed03136" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="doctorLoginToRoom" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="REST Request" id="f850b0e6-24ad-49a2-a9bc-13a05a0358f6"><con:settings/><con:config service="http://application-emiasinfo1.dev-emias.emias.ru" resourcePath="/api/v1/status/tmk" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="REST Request" id="1fcc131b-fe37-4f7c-899e-b863f4405eea" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#Project#Endpoint_notification}</con:endpoint><con:request/><con:originalUri>http://application-emiasinfo1.dev-emias.emias.ru/api/v1/status/tmk</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="patientId" value="${#TestSuite#patientId}"/>
  <con:entry key="deviceGuid" value="${#TestSuite#deviceGuid}"/>
  <con:entry key="appointmentId" value="391930256751"/>
</con:parameters><con:parameterOrder><con:entry>patientId</con:entry><con:entry>deviceGuid</con:entry><con:entry>appointmentId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>appointmentId</con:name><con:value>391930332512</con:value></con:property></con:properties></con:testCase><con:properties><con:property><con:name>deviceGuid</con:name><con:value>015890c7-8300-4486-b2b9-45bf7163c899</con:value></con:property><con:property><con:name>patientId</con:name><con:value>30379945</con:value></con:property></con:properties></con:testSuite><con:properties><con:property><con:name>EI-Token</con:name><con:value>TvisvXuLNHDfSvRE8AEdNiy45swbieNqbOF0sDMWTwY</con:value></con:property><con:property><con:name>Mock-saOrchestrator</con:name><con:value>https://application-mock.dev-emias.emias.ru/mock/412856</con:value></con:property><con:property><con:name>X-Access-JWT</con:name><con:value>eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ1c2VyX2F1dGgiLCJleHAiOjE3Mjc4ODMzODksImF1ZCI6IlBBVElFTlQiLCJzdWIiOiI3NTgzNWNiNy05ZTI3LTRhY2ItYTk1ZC1hOWRiMzRlOTY0MWUiLCJzaWQiOiJjZDYyM2IwMy02NTA0LTQ0ZjgtYTA0Ni02YjQzYzM4NTRkNGEiLCJwaG9uZSI6Ijc5MTUwMDQ5NzY2Iiwic3NvX2lkIjoiRm9aSjhDcWtRZXU5Q1pJS1UvdklaK29UQkR3UDZ6MmxMOWVHTmdtblNsb2VqMzcxT0Z2aUg5Y1NXL281VFFuOVIwY01pOFIvSlhvejgxbnN6SVdpS1hES1hSa1lUN2tNdlppcjVyakxQYTBoOXcxL1lyRzNGTlhaY2ZDT25QSzRNNTA2U3B1TkdodXliK1ZIcU14MmpXTlR2SWNlVWUvb0dyeWg2Y01iYVhaRlpOaUIxYUtpUkl2MysvM29kUTRpNjloKzh2TVpUYmRRSk1sMGg4djhGcTJxTFNObFh1OUlmYk9hM0s2R0M4RUt5eFE3YUVnZ3BNK05FVktkc1hzVjJkMGlya1Bub25RTjFWQ0wvckJyMEhFVDg3MWJSZllmUmkrRkcrcDhXZDZicm5uV2F6cDN4d1o0R2FLNitBVFR1QWN4L3dkZkhTeXlDcGdvaDFyVWhBPT0iLCJlbWFpbCI6Imdvb2R3aW5sYXVyYUBleGFtcGxlLmNvbSIsImZpcnN0X25hbWUiOiJcdTA0MjVcdTA0MzBcdTA0M2RcdTA0NDNcdTA0M2MiLCJzZWNvbmRfbmFtZSI6Ilx1MDQxMC4iLCJtaWRkbGVfbmFtZSI6Ilx1MDQxN1x1MDQzOFx1MDQ0MFx1MDQzMFx1MDQzY1x1MDQ0M1x1MDQ0Mlx1MDQzNFx1MDQzOFx1MDQzZFx1MDQzZVx1MDQzMlx1MDQzZFx1MDQzMCIsImJpcnRoX2RhdGUiOiIyMDAxLTA2LTA2IiwiYW1yIjpbXX0.T1NP25g6L3w0nKgoQnjsR055pzHxqC3RtzEzhj6tAc7Waxrl9RVRPjsALT-qdH3WM30vB_a0RWAQmwF_XtdmI3X5wn3PrHLyFXUXT5ihqx53I_Xg5VjL8607KO1arvaIR_2ePu06bR22WTjrD7wCEnS1X3qHhlB6OwPZ9ZdYinee6t2gQ5wF4R2xYUk16-rOTzrHCpj6Qd6Bd0gQ-dpUUdZa1TLgE8eRu6FFErXXrxLOyWBkBnmtEMzbnPbJFLo2xXBL_W6wdxBPZ1lYutMXKi-iBi4Gtrc2Nt1R3hUPabSj8a9-_dCwPYJm9601g1Cf2OBRkYoAuCSuNSwkihUV-x6adNQzW4LjvNJmiraIjmmcRa6aQom-KkYldSy3IcJbLcBIwTBDbBJOqx8rpq6npDp5o07zNBZPzWg4Rn5fqr_IO548qdHf5ZWnwGxfh5iILll17vKFAATrpeDMUPOSjCeDyYcM6HSIoje2VqSuxceWImDLWtjXnfhApB3ji0sPI5NYGtg46axwIDmEIombfVqXO9fnZ0JTiSAPBn3qm9hZjehis_r-MNXHmqCrJoglIVi7fzWfJCQjqgnhB4d4X6nG9QN_d4KTlLo4Z8O_F-EswkFUmw6OLWTnqXGZMzCLwVNXa3cn5w35oD9o_rm3bBOmE0F3zveKYeSq0ZoSYIU</con:value></con:property><con:property><con:name>Endpoint</con:name><con:value>http://application-emiasinfo3.dev-emias.emias.ru</con:value></con:property><con:property><con:name>supp_driver</con:name><con:value>oracle.jdbc.driver.OracleDriverc</con:value></con:property><con:property><con:name>supp_full_connection</con:name><con:value> jdbc:oracle:thin:EMIAS_CLUSTER/EMIAS_CLUSTER@//10.2.172.242:1521/emiasdb</con:value></con:property><con:property><con:name>emiasInfoDBDriver</con:name><con:value>org.postgresql.Driver</con:value></con:property><con:property><con:name>emiasInfoFullDbConnection</con:name><con:value>jdbc:postgresql://10.3.164.51:30106/postgres?user=postgres&amp;password=postgres</con:value></con:property><con:property><con:name>Endpoint_notification</con:name><con:value>http://notification-emiasinfo3.dev-emias.emias.ru</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>